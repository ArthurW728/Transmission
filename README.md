# 局域网文件传输系统

一个基于 Web 的局域网文件传输系统，支持多设备在线、文件上传下载、传输历史记录等功能。

## 功能特点

1. **文件传输**
   - 支持文件上传和下载
   - 最大支持 500MB 的文件
   - 显示文件大小和上传时间
   - 实时显示传输进度

2. **设备管理**
   - 显示在线设备列表
   - 自动识别设备类型（电脑/移动设备）
   - 显示设备连接时间
   - 记录设备传输历史

3. **数据统计**
   - 记录文件下载次数
   - 统计设备传输次数
   - 保存完整传输历史

## 项目结构 
project/
│
├── index.html # 前端界面
├── server.js # 后端服务器
├── package.json # 项目配置
└── uploads/ # 上传文件存储目录

## 技术栈

- 前端：HTML5, CSS3, JavaScript
- 后端：Node.js, Express
- 实时通信：Socket.IO
- 文件处理：Multer

## 安装步骤

1. **安装 Node.js**（如果未安装）
   - 访问 [Node.js 官网](https://nodejs.org/)
   - 下载并安装适合你系统的版本

2. **克隆项目**
   ```bash
   git clone [项目地址]
   cd [项目目录]
   ```

3. **安装依赖**
   ```bash
   npm install
   ```

4. **启动服务器**
   ```bash
   npm start
   ```

5. **访问应用**
   - 本机访问：http://localhost:3000
   - 局域网访问：http://[服务器IP]:3000

## 使用说明

1. **文件上传**
   - 点击"选择文件"按钮
   - 选择要上传的文件（<500MB）
   - 点击"发送"按钮

2. **文件下载**
   - 在文件列表中找到需要的文件
   - 点击下载图标即可下载

## API 文档

### HTTP 接口

1. `GET /files`
   - 功能：获取文件列表
   - 返回：文件数组，包含名称、大小、上传时间等信息

2. `POST /upload`
   - 功能：上传文件
   - 参数：file（文件对象）
   - 限制：文件大小 < 500MB

3. `GET /download/:filename`
   - 功能：下载指定文件
   - 参数：filename（文件名）

4. `GET /transfer-history`
   - 功能：获取传输历史

### WebSocket 事件

1. `deviceInfo`
   - 方向：客户端 -> 服务器
   - 数据：设备名称、类型信息

2. `updateOnlineDevices`
   - 方向：服务器 -> 客户端
   - 数据：在线设备列表

3. `fileUploaded`
   - 方向：服务器 -> 客户端
   - 数据：新上传的文件信息

## 注意事项

1. **安全性**
   - 仅在可信任的局域网中使用
   - 不要传输敏感文件
   - 注意文件大小限制

2. **网络要求**
   - 确保设备在同一局域网
   - 检查防火墙设置
   - 3000端口需要开放

3. **兼容性**
   - 支持现代浏览器
   - 建议使用 Chrome、Firefox、Safari 最新版本

## 常见问题

1. **无法访问服务器**
   - 检查服务器是否正常运行
   - 确认IP地址是否正确
   - 检查防火墙设置

2. **文件上传失败**
   - 检查文件大小是否超限
   - 确认上传文件夹权限
   - 检查磁盘空间是否充足

3. **设备无法连接**
   - 确认在同一局域网
   - 检查网络连接状态
   - 尝试刷新页面

## 未来计划

1. **功能增强**
   - 添加文件预览功能
   - 支持文件夹上传
   - 添加进度条显示
   - 支持断点续传

2. **安全性提升**
   - 添加用户认证
   - 实现文件加密
   - 添加访问控制

3. **用户体验优化**
   - 优化移动端适配
   - 添加深色模式
   - 支持多语言

## 贡献指南

1. Fork 项目
2. 创建特性分支
3. 提交改动
4. 发起 Pull Request

## 许可证

MIT License

## 联系方式

如有问题或建议，请提交 Issue 或 Pull Request。

## 致谢

感谢所有贡献者的付出！